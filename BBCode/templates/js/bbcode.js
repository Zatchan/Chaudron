function textarea_resize(e,t,n){var o=document.getElementById(e);if("height"==n){var l=(parseInt(o.style.height)?parseInt(o.style.height):300)+t;l>40&&(o.style.height=l+"px")}else{var r=(parseInt(o.style.width)?parseInt(o.style.width):150)+t;r>40&&(o.style.width=r+"px")}return!1}function simple_insert(e,t,n){var o=document.getElementById(n),l=o.scrollTop;""!=t&&"smile"!=t?o.value+="["+e+"][/"+t+"]":"smile"==t&&(o.value+=" "+e+" "),o.focus(),o.scrollTop=l}function netscape_sel(e,t,n){var o=e.textLength,l=e.selectionStart,r=e.selectionEnd,c=e.scrollTop;1!=r&&2!=r||(r=o);var a=e.value.substring(0,l),i=e.value.substring(l,r),s=e.value.substring(r,o);""!=n&&""==i&&"smile"!=n?(e.value=a+t+n+s,e.setSelectionRange(a.length+t.length,e.value.length-s.length-n.length),e.focus()):"smile"==n?(e.value=a+i+" "+t+" "+s,e.setSelectionRange(a.length+t.length+2,e.value.length-s.length),e.focus()):(e.value=a+t+i+n+s,e.setSelectionRange(a.length+t.length,e.value.length-s.length-n.length),e.focus()),e.scrollTop=c}function ie_sel(e,t,n){selText=!1;var o=e.scrollTop;selection=document.selection.createRange().text,""!=n&&""==selection&&"smile"!=n?document.selection.createRange().text=t+n:document.selection.createRange().text="smile"==n?selection+t+" ":t+selection+n,e.scrollTop=o,selText=""}function url_encode_rewrite(e){e=e.toLowerCase(e);for(var t=new Array(/ /g,/é/g,/è/g,/ê/g,/à/g,/â/g,/ù/g,/ü/g,/û/g,/ï/g,/î/g,/ô/g,/ç/g),n=new Array("-","e","e","e","a","a","u","u","u","i","i","o","c"),o=t.length,l=0;l<o;l++)e=e.replace(t[l],n[l]);return(e=(e=e.replace(/([^a-z0-9]|[\s])/g,"-")).replace(/([-]{2,})/g,"-")).replace(/(^\s*)|(\s*$)/g,"").replace(/(^-)|(-$)/g,"")}function insertbbcode(e,t,n){var o=document.getElementById(n),l=navigator.appName;o.focus(),"Microsoft Internet Explorer"==l?ie_sel(o,e,t):"Netscape"==l||"Opera"==l?netscape_sel(o,e,t):simple_insert(e,t,n)}function insertbbcode_select(e,t,n){var o=document.getElementById(e+n);""!=o.value&&insertbbcode("["+e+"="+o.value+"]",t,n),o.options[0].selected=!0}function insertbbcode_select2(e,t){var n=document.getElementById(e+t);""!=n.value&&insertbbcode("["+n.value+"]","[/"+n.value+"]",t),n.options[0].selected=!0}function set_bbcode_preference(e){0==getCookie("hide-bbcode")&&(jQuery("#bbcode-expanded").removeClass("expand"),jQuery("."+e).each(function(){jQuery("."+e).hide()}))}function show_bbcode_div(e){0==getCookie("hide-bbcode")?(jQuery("#bbcode-expanded").addClass("expand"),sendCookie("hide-bbcode",1),jQuery("."+e).each(function(){jQuery("."+e).fadeIn(300)})):(jQuery("."+e).each(function(){jQuery("."+e).fadeOut(300)}),jQuery("#bbcode-expanded").removeClass("expand"),sendCookie("hide-bbcode",0))}function bbcode_color(e,t,n){var o,l,r,c=new Array("#000000","#433026","#333300","#003300","#003366","#000080","#333399","#333333","#800000","#FFA500","#808000","#008000","#008080","#0000FF","#666699","#808080","#F04343","#FF9900","#99CC00","#339966","#33CCCC","#3366FF","#800080","#ACA899","#FFC0CB","#FFCC00","#FFFF00","#00FF00","#00FFFF","#00CCFF","#993366","#C0C0C0","#FF99CC","#FFCC99","#FFFF99","#CCFFCC","#CCFFFF","#CC99FF","#E3007B","#FFFFFF");for(r="<table><tr>",o=0;o<40;o++)l=0==(l=(o+1)%8)&&0!=o&&o<39?"</tr><tr>":"",r+='<td><a href="" style="background:'+c[o]+';" onclick="insertbbcode(\'['+n+"="+c[o]+"]', '[/"+n+"]', '"+t+"');bb_hide_block('"+e+"', '"+t+"', 0);return false;\"></a></td>"+l;document.getElementById("bb-"+n+t).innerHTML=r+"</tr></table>"}function bbcode_table(e,t){var n=document.getElementById("bb-cols"+e).value,o=document.getElementById("bb-lines"+e).value,l=document.getElementById("bb-head"+e).checked,r="";if(n>=0&&o>=0){var c=n>1?' colspan="'+n+'"':"",a=l?59+c.length:22;r=l?"[table]\n\t[row]\n\t\t[head"+c+"]"+t+"[/head]\n\t[/row]\n":"[table]\n";for(var i=0;i<o;i++){r+="\t[row]\n";for(var s=0;s<n;s++)r+="\t\t[col][/col]\n";r+="\t[/row]\n"}insertbbcode((r+="[/table]").substring(0,a),r.substring(a,r.length),e)}}function bbcode_list(e){var t=document.getElementById("bb_list"+e).value,n=document.getElementById("bb_ordered_list"+e).checked;t<=0&&(t=1);var o=n?19:11;code="[list"+(n?"=ordered":"")+"]\n";for(var l=0;l<t;l++)code+="\t[*]\n";code+="[/list]",insertbbcode(code.substring(0,o),code.substring(o,code.length),e)}function bbcode_url(e,t){var n=prompt(t,"");""!=n&&null!=n&&insertbbcode("[url="+n+"]","[/url]",e)}function bbcode_lightbox(e,t){var n=prompt(t,"");""!=n&&null!=n&&insertbbcode("[lightbox="+n+'][img style="max-width: 150px;"]'+n,"[/img][/lightbox]",e)}function bbcode_anchor(e,t){var n=prompt(t,"");insertbbcode(""!=n&&null!=n?"[anchor="+url_encode_rewrite(n)+"]":"[anchor]","[/anchor]",e)}function bbcode_abbr(e,t){var n=prompt(t,"");insertbbcode(""!=n&&null!=n?"[abbr="+n+"]":"[abbr]","[/abbr]",e)}function bbcode_acronym(e,t){var n=prompt(t,"");insertbbcode(""!=n&&null!=n?"[acronym="+n+"]":"[acronym]","[/acronym]",e)}function bbcode_fieldset(e,t){var n=prompt(t,"");insertbbcode(""!=n&&null!=n?'[fieldset legend="'+n+'"]':"[fieldset]","[/fieldset]",e)}function bbcode_mail(e,t){var n=prompt(t,"");""!=n&&null!=n&&insertbbcode("[mail="+n+"]","[/mail]",e)}function bbcode_feed(e,t){var n=prompt(t,"");""!=n&&null!=n&&insertbbcode('[feed cat="0" number="5"]'+n.toLowerCase(),"[/feed]",e)}